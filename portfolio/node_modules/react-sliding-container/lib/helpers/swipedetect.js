"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.swipedetect = function (el, callback) {
    var touchsurface = el;
    var swipedir;
    var startX;
    var startY;
    var dist;
    var distX;
    var distY;
    var threshold = 10;
    var restraint = 100;
    var allowedTime = 300;
    var elapsedTime;
    var startTime;
    var touchobj;
    var handleswipe = callback;
    var touchStartHandler = function (e) {
        touchobj = e.changedTouches[0];
        swipedir = 'none';
        dist = 0;
        startX = touchobj.pageX;
        startY = touchobj.pageY;
        startTime = new Date().getTime();
        e.preventDefault();
    };
    var touchMoveHandler = function (e) {
        e.preventDefault();
    };
    var touchEndHandler = function (e) {
        touchobj = e.changedTouches[0];
        distX = touchobj.pageX - startX;
        distY = touchobj.pageY - startY;
        elapsedTime = new Date().getTime() - startTime;
        if (elapsedTime <= allowedTime) {
            if (Math.abs(distX) >= threshold && Math.abs(distY) <= restraint) {
                swipedir = (distX < 0) ? 'left' : 'right';
            }
            else if (Math.abs(distY) >= threshold && Math.abs(distX) <= restraint) {
                swipedir = (distY < 0) ? 'up' : 'down';
            }
        }
        handleswipe(swipedir);
    };
    touchsurface.addEventListener('touchstart', touchStartHandler, false);
    touchsurface.addEventListener('touchmove', touchMoveHandler, false);
    touchsurface.addEventListener('touchend', touchEndHandler, false);
};
//# sourceMappingURL=swipedetect.js.map